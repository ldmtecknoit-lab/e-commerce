<?xml version="1.0" encoding="UTF-8"?>
<Column expand="full">

    <Data id="page-loader" type="progress" class="rounded-0 fixed-top" height="3px" value="0" />

    <Window type="still" id="settings" title="Impostazioni Utente" class="bg-light">
        <Column padding="20px">
            <Text class="h4">Gestione Account</Text>
            <Action type="button" class="mt-3">Logout</Action>
        </Column>
    </Window>
    <Window type="dialog" title="Crea un Account" id="auth-register" size="md">
        </Window>
    <Window type="dialog" title="Accedi" id="auth-login" size="sm">
        </Window>

    <Navigation class="bg-primary text-white p-3" orientation="horizontal" alignment-content="between">
        
        <Action type="link" route="/">
            <Media type="image" src="/assets/logo.png" height="40px" class="d-inline-block" />
            <Text class="h4 ms-2 d-none d-md-inline">TECTRONIX</Text> 
        </Action>
        
        <Group type="input" class="d-flex" width="40%">
            <Input type="search" placeholder="Cerca Prodotti, Marche, Categorie..." value="{{url}}" expand="full"/>
            <Action type="submit" class="btn btn-dark ms-2"><Media type="icon" src="bi-search" /></Action>
        </Group>
        
        <Container width="auto" alignment-content="end" spacing="2">
            
            <Action type="button" class="btn btn-outline-light border-0" tooltip="Vai al Carrello">
                <Media type="icon" src="bi-cart" />
                <Data type="text" class="badge bg-danger rounded-pill" value="0" />
            </Action>

            <Action type="dropdown" tooltip="Account" id="user-menu-dropdown">
                <Row alignment-vertical="center" spacing="2">
                    <Media type="image" height="40px" src="https://app.colosso.cloud/static/logo.png" class="rounded-circle border" />
                </Row>
                
                <Column width="200px">
                    <Action event-click="open_dialog('auth-register')" class="dropdown-item">
                        <Media type="icon" src="bi-person-plus" /><Text class="ms-2">Crea un account</Text>
                    </Action>
                    <Action event-click="open_dialog('auth-login')" class="dropdown-item">
                        <Media type="icon" src="bi-person-lock" /><Text class="ms-2">Accedi</Text>
                    </Action>
                    
                    <Action route="/profile" class="dropdown-item">
                        <Media type="icon" src="bi-person" /><Text class="ms-2">Profilo</Text>
                    </Action>
                    <Action route="/orders" class="dropdown-item">
                        <Media type="icon" src="bi-box-seam" /><Text class="ms-2">Miei Ordini</Text>
                    </Action>
                    <Action event-click="open_offcanvas('settings')" class="dropdown-item">
                        <Media type="icon" src="bi-gear" /><Text class="ms-2">Impostazioni</Text>
                    </Action>
                    <Action route="/logout" class="dropdown-item text-danger">
                        <Media type="icon" src="bi-box-arrow-right" /><Text class="ms-2">Esci</Text>
                    </Action>
                </Column>
            </Action>
        </Container>
    </Navigation>

    <Navigation orientation="horizontal" alignment-content="start" class="bg-body-tertiary border-bottom px-4 py-2 d-none d-lg-flex">
        
        <Action type="dropdown" tooltip="Visualizza tutti gli Accessori">
            <Row alignment-vertical="center" spacing="1"><Media type="icon" src="bi-usb-plug"/><Text>Accessori</Text></Row>
            <Container class="p-3" width="500px">
                <Row spacing="4">
                    <Column class="list-group-flush">
                        <Action type="link" route="/cat/cuffie" class="list-group-item">Cuffie e Auricolari</Action>
                        <Action type="link" route="/cat/caricabatterie" class="list-group-item">Caricabatterie</Action>
                        <Action type="link" route="/cat/cover" class="list-group-item">Cover e Pellicole</Action>
                    </Column>
                    <Column class="list-group-flush">
                        <Action type="link" route="/cat/powerbank" class="list-group-item">Power Bank</Action>
                        <Action type="link" route="/cat/supporti" class="list-group-item">Supporti Auto/Bici</Action>
                        <Action type="link" route="/cat/cavi" class="list-group-item">Cavi</Action>
                    </Column>
                    <Column class="list-group-flush">
                        <Action type="link" route="/cat/smartwatch" class="list-group-item">Smartwatch</Action>
                        <Action type="link" route="/cat/domotica" class="list-group-item">Domotica</Action>
                        <Action type="link" route="/cat/altro" class="list-group-item">Altro</Action>
                    </Column>
                </Row>
            </Container>
        </Action>
        
        <Action type="link" route="/brand/apple" class="nav-link"><Text>Apple</Text></Action>
        <Action type="link" route="/brand/samsung" class="nav-link"><Text>Samsung</Text></Action>
        <Action type="link" route="/cat/ricondizionati" class="nav-link"><Text>Ricondizionati</Text></Action>
        <Action type="link" route="/cat/novita" class="nav-link"><Text>NovitÃ  ðŸ†•</Text></Action>
        
        <Action type="dropdown" tooltip="Tutta la Gamma Prodotti">
            <Media type="icon" src="bi-grid"/>
            <Column width="200px">
                <Action type="link" route="/cat/informatica" class="dropdown-item"><Media type="icon" src="bi-laptop"/><Text class="ms-2">Informatica</Text></Action>
                <Action type="link" route="/cat/pc" class="dropdown-item"><Media type="icon" src="bi-pc-display"/><Text class="ms-2">PC Desktop</Text></Action>
                <Action type="link" route="/services/repairs" class="dropdown-item"><Media type="icon" src="bi-screwdriver"/><Text class="ms-2">Servizio Repairs</Text></Action>
            </Column>
        </Action>
    </Navigation>
    
    <Container class="container-fluid p-4">
        {{ inner }}
    </Container>
    
    <Navigation class="bg-dark text-white p-5 mt-auto">
        <Container type="fixed">
            <Row spacing="4" class="justify-content-between">
                
                <Column width="auto">
                    <Media type="image" src="/assets/logo-white.png" height="50px"/>
                    <Text class="mt-3">Seguici sui social:</Text>
                    <Row spacing="2" class="mt-2">
                         <Action type="link" route="/social/fb"><Media type="icon" src="bi-facebook" class="h4"/></Action>
                         <Action type="link" route="/social/ig"><Media type="icon" src="bi-instagram" class="h4"/></Action>
                         <Action type="link" route="/social/tg"><Media type="icon" src="bi-telegram" class="h4"/></Action>
                    </Row>
                </Column>

                <Column width="auto">
                    <Text class="h6 text-uppercase mb-3">Il Mio Account</Text>
                    <Group type="list" class="list-group-flush bg-dark text-white">
                        <Action type="link" route="/account/profile" class="list-group-item bg-dark text-white">Info personali</Action>
                        <Action type="link" route="/account/orders" class="list-group-item bg-dark text-white">Miei ordini</Action>
                        <Action type="link" route="/account/address" class="list-group-item bg-dark text-white">Miei indirizzi</Action>
                        <Action type="link" route="/account/returns" class="list-group-item bg-dark text-white">Note di Credito</Action>
                    </Group>
                </Column>

                <Column width="auto">
                    <Text class="h6 text-uppercase mb-3">Informazioni</Text>
                    <Group type="list" class="list-group-flush bg-dark text-white">
                        <Action type="link" route="/info/contatti" class="list-group-item bg-dark text-white">Contattaci</Action>
                        <Action type="link" route="/info/chisiamo" class="list-group-item bg-dark text-white">Chi Siamo</Action>
                        <Action type="link" route="/info/sitemap" class="list-group-item bg-dark text-white">SiteMap</Action>
                        <Action type="link" route="/info/pagamenti" class="list-group-item bg-dark text-white">Pagamenti</Action>
                    </Group>
                </Column>

                <Column width="auto">
                    <Text class="h6 text-uppercase mb-3">Servizi Legale</Text>
                    <Group type="list" class="list-group-flush bg-dark text-white">
                        <Action type="link" route="/legal/terms" class="list-group-item bg-dark text-white">Termini e condizioni d'uso</Action>
                        <Action type="link" route="/legal/privacy" class="list-group-item bg-dark text-white">Privacy</Action>
                        <Action type="link" route="/legal/shipping" class="list-group-item bg-dark text-white">Spedizioni & Reso</Action>
                        <Action type="link" route="/legal/warranty" class="list-group-item bg-dark text-white">Garanzia e Assistenza</Action>
                    </Group>
                </Column>
            </Row>

            <Row alignment-content="center" class="mt-5 pt-3 border-top border-secondary">
                <Text class="text-secondary small">Copyright Â© Tectronix 2025 - Tutti i diritti riservati.</Text>
            </Row>
        </Container>
    </Navigation>
</Column>