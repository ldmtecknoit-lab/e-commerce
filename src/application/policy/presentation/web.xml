<?xml version="1.0" encoding="UTF-8"?>
<Routes path="/api" >
    <Route path="/" type="view" view="ecommerce/showcase.xml" method="GET" />
    
    <Route path="/shop" type="view" view="ecommerce/showcase.xml" method="GET" />
    <Route path="/shop/products" type="view" view="ecommerce/products.xml" method="GET" />
    <Route path="/shop/products/{$slug}" type="view" view="ecommerce/product.xml" method="GET" />
    <Route path="/shop/category/{$slug}" type="view" view="ecommerce/category.xml" method="GET" />
    <Route path="/shop/cart" type="view" view="ecommerce/cart.xml" method="GET" />
    <Route path="/shop/checkout" type="view" view="ecommerce/checkout.xml" method="GET" />
    <Route path="/shop/order/success/{$id}" type="view" view="ecommerce/order_success.xml" method="GET" />
    <Route path="/shop/orders" type="view" view="ecommerce/orders.xml" method="GET" />
    <Route path="/shop/orders/{$id}" type="view" view="ecommerce/order.xml" method="GET" />
    
    <Route path="/profile" type="view" view="auth/profile.xml" method="GET" />
    <Route path="/dashboard" type="view" view="auth/dashboard.xml" method="GET" />
    <Route path="/auth/signup" type="view" view="auth/registration.xml" method="GET" />
    <Route path="/auth/signin" type="view" view="auth/login.xml" method="GET" />
    <Route path="/auth/reset-password" type="view" view="auth/recovery.xml" method="GET" />
    
    <Route path="/login" type="login" method="POST" />
    <Route path="/logout" type="logout" method="POST" />
    <Route path="/github/callback" type="login" method="GET" />
    <Route path="/gather" type="action" method="GET" policy="" />
    <Route path="/create" type="action" method="POST" policy="" />
    <Route path="/chat" type="action" method="POST" policy="" />

    <Route path="/shop/cart/add/{$product_id}" type="action" method="POST" policy="auth" />
    <Route path="/shop/cart/remove/{$item_id}" type="action" method="POST" policy="auth" />
    <Route path="/shop/cart/update/{$item_id}" type="action" method="POST" policy="auth" />
    <Route path="/shop/checkout/place-order" type="action" method="POST" policy="auth" />
    <Route path="/shop/webhook/payment-status" type="action" method="POST" policy="public" />
</Routes>